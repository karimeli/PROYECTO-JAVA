<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="estilos.css">
    <title>PROYECTO JAVASCRIPT</title>
</head>
<body>

<!-- Cabecero -->
<div class="cabecero">
    <div class="presupuesto">
        <div class="presupuesto_titulo">Presupuesto Disponible</div>
        <div class="presupuesto_valor">+2,000.00</div>
        <div class="presupuesto_ingreso limpiarEstilos">
            <div class="presupuesto_ingreso--texto">Ingresos</div>
            <div class="derecha">
                <div class="presupuesto_ingreso--valor">+4,000.00</div>
                <div class="presupuesto_ingreso--porcentaje"> </div>
            </div>
        </div>
        <div class="presupuesto_egreso limpiarEstilos">
            <div class="presupuesto_egreso--texto">Egresos</div>
            <div class="derecha limpiarEstilos">
                <div class="presupuesto_egreso--valor">-1,900.00</div>
                <div class="presupuesto_egreso--porcentaje">45%</div>
            </div>
        </div>
    </div>
</div>

<!-- Formulario -->
<form id="forma">
    <div class="agregar">
        <div class="agregar_contenedor">
            <select class="agregar_tipo" id="tipo">
                <option value="ingreso" selected>+</option>
                <option value="egreso">-</option>
            </select>
            <input type="text" class="agregar_descripcion" placeholder="Agregar DescripciÃ³n" id="descripcion">
            <input type="number" class="agregar_valor" value="0" step="any">
            <button class="agregar_btn">
                <ion-icon name="checkmark-circle-outline"></ion-icon>
            </button>
        </div>
    </div>
</form>

<!-- Contenedor -->
<div class="contenedor limpiarEstilos">
    <div class="ingreso">
        <h2 class="ingreso_titulo">Ingresos</h2>
        <div id="lista-ingresos">
            <div class="elemento limpiarEstilos">
                <div class="elemento_descripcion">Salario</div>
                <div class="derecha limpiarEstilos">
                    <div class="elemento_valor">+2,200.00</div>
                    <div class="elemento_eliminar">
                        <button class="elemento_eliminar_btn">
                            <ion-icon name="close-circle-outline"></ion-icon>
                        </button>
                    </div>
                </div>
            </div>
            <div class="elemento limpiarEstilos">
                <div class="elemento_descripcion">venta de coche</div>
                <div class="derecha limpiarEstilos">
                    <div class="elemento_valor">+1,500.00</div>
                    <div class="elemento_eliminar">
                        <button class="elemento_eliminar_btn">
                            <ion-icon name="close-circle-outline"></ion-icon>
                        </button>
        </div>
    </div>
    <div class="egreso">
        <h2 class="egreso_titulo">Egresos</h2>
        <div id="lista-egresos">
            <div class="elemento limpiarEstilos">
                <div class="elemento_descripcion">Renta departamento</div>
                <div class="derecha limpiarEstilos">
                    <div class="elemento_valor">-900.00</div>
                    <div class="elemento_porcentaje">21%</div>
                    <div class="elemento_eliminar">
                        <button class="elemento_eliminar_btn">
                            <ion-icon name="close-circle-outline"></ion-icon>
                        </button>
                    </div>
                </div>
            </div>
            <div class="elemento limpiarEstilos">
                <div class="elemento_descripcion">ropa </div>
                <div class="derecha limpiarEstilos">
                    <div class="elemento_valor">-400.00</div>
                    <div class="elemento_porcentaje">10%</div>
                    <div class="elemento_eliminar">
                        <button class="elemento_eliminar_btn">
                            <ion-icon name="close-circle-outline"></ion-icon>
                        </button>
        </div>
    </div>
</div>

<script type="module" src="https://unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.esm.js">
let egresos = {
        Renta: 900,
        Ropa: 400
    };

    let ingresos = {
        Quincena: 9000,
        Venta: 400
    };

    
    const cargarCabecera = () => {
        const presupuesto = totalIngresos() - totalEgresos();
        const porcentajeEgreso = totalEgresos() / totalIngresos();

        
        console.log(presupuesto);
        console.log(porcentajeEgreso);
        console.log(formatoMoneda(totalIngresos()));
        console.log(formatoMoneda(totalEgresos()));
    };

    const totalIngresos = () => {
        let totalIngreso = 0;
        for (const key in ingresos) {
            totalIngreso += ingresos[key];
        }
        return totalIngreso;
    };

    const totalEgresos = () => {
        let totalEgreso = 0;
        for (const key in egresos) {
            totalEgreso += egresos[key];
        }
        return totalEgreso;
    };

    const formatoMoneda = (valor) => {
        return valor.toLocaleString('es-MX', { style: 'currency', currency: 'MXN', minimumFractionDigits: 2 });
    };

    const formatoPorcentaje = (valor) => {
        return valor.toLocaleString('es-MX', { style: 'percent', minimumFractionDigits: 2 });
    };

    cargarCabecera();
</script>
</body>
</html>
